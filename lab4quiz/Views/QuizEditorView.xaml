<UserControl x:Class="lab4quiz.Views.QuizEditorView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Height="700" Width="900">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Nagłówek + operacje plikowe -->
        <StackPanel Orientation="Horizontal" Margin="0 0 0 10">
            <TextBlock Text="Nazwa quizu:" VerticalAlignment="Center" Margin="0 0 10 0"/>
            <TextBox Width="200" Text="{Binding QuizTitle, UpdateSourceTrigger=PropertyChanged}" Margin="0 0 20 0"/>
            <Button Content="Wczytaj quiz" Command="{Binding LoadQuizCommand}" Margin="0 0 10 0"/>
            <Button Content="Zapisz quiz" Command="{Binding SaveQuizCommand}" />
        </StackPanel>

        <!-- Edycja pytania -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="3*"/>
            </Grid.ColumnDefinitions>

            <!-- Dodawanie pytania -->
            <StackPanel Margin="0 0 10 0">
                <TextBlock Text="Treść pytania:" FontWeight="Bold"/>
                <TextBox Text="{Binding NewQuestionText}" Height="60" TextWrapping="Wrap" Margin="0 0 0 10"/>

                <TextBlock Text="Odpowiedzi (zaznacz poprawne):" FontWeight="Bold"/>
                <ItemsControl ItemsSource="{Binding NewAnswers}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Margin="0 2">
                                <CheckBox IsChecked="{Binding IsCorrect}" Margin="0 0 10 0"/>
                                <TextBox Text="{Binding Text}" Width="200"/>
                            </StackPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <Button Content="Dodaj pytanie" Command="{Binding AddQuestionCommand}" Margin="0 10 0 0"/>
            </StackPanel>

            <!-- Lista pytań w quizie -->
            <StackPanel Grid.Column="1">
                <TextBlock Text="Aktualne pytania:" FontWeight="Bold"/>
                <ListBox ItemsSource="{Binding Questions}" SelectedItem="{Binding SelectedQuestion}">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Text}" TextWrapping="Wrap"/>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <StackPanel Orientation="Horizontal" Margin="0 10 0 0">
                    <Button Content="Usuń pytanie" Command="{Binding RemoveQuestionCommand}" Margin="0 0 10 0"/>
                    <Button Content="Edytuj pytanie" Command="{Binding EditQuestionCommand}"/>
                </StackPanel>
            </StackPanel>
        </Grid>

        <!-- Stopka -->
        <TextBlock Grid.Row="2" Text="Wprowadź pytania i odpowiedzi, zaznacz poprawne, następnie zapisz lub wczytaj quiz." 
                   FontStyle="Italic" Margin="0 10 0 0"/>
    </Grid>
</UserControl>
